(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38c098e0"],{"02a9":function(e,t,a){"use strict";a("cb29"),a("a9e3");var r=a("f825");t["a"]={name:"fill-table",render:function(e){var t={};for(var a in r["Table"].props)t[a]=this[a];return t.height=this.tableHeight,e(r["Table"],{props:t,ref:"table",on:this.$listeners,scopedSlots:this.$scopedSlots,slot:this.$slot})},props:function(){var e={};return Object.assign(e,r["Table"].props,{height:{type:Number},fill:{type:Boolean,default:!0}}),e}(),watch:{height:{handler:function(){this.tableHeight=this.height}},immediate:!0},data:function(){return{tableHeight:0}},methods:{handleIViewTableResize:function(e){this.tableHeight=e.offsetHeight},getTableRef:function(){return this.$refs.table}},mounted:function(){var e=this;this.fill&&this.getTableRef().observer.listenTo(this.$el,this.handleIViewTableResize);var t=function(t){e[t]=function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r["Table"].methods[t].apply(e.getTableRef(),n)}};for(var a in r["Table"].methods)t(a)},beforeDestroy:function(){this.fill&&this.getTableRef().observer.removeListener(this.$el,this.handleIViewTableResize)}}},"0b7c":function(e,t,a){},"10b7":function(e,t,a){"use strict";var r=a("5efc"),n=a.n(r);n.a},"45e8":function(e,t,a){"use strict";var r=a("746c"),n=a.n(r);n.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var r=a("1d80"),n=a("5899"),i="["+n+"]",s=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),o=function(e){return function(t){var a=String(r(t));return 1&e&&(a=a.replace(s,"")),2&e&&(a=a.replace(c,"")),a}};e.exports={start:o(1),end:o(2),trim:o(3)}},"5efc":function(e,t,a){},"6d7e":function(e,t,a){"use strict";var r=a("ada0"),n=a.n(r);n.a},"746c":function(e,t,a){},"7a2c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"part-container"},[a("Modal",{attrs:{title:e.isCreate?"添加设备":"修改设备",width:350},model:{value:e.openDialog,callback:function(t){e.openDialog=t},expression:"openDialog"}},[a("Form",{ref:"userRoles",attrs:{model:e.formDevice,"label-width":80,rules:e.rules}},[a("FormItem",{attrs:{label:"设备密码",prop:"password"}},[a("Input",{attrs:{placeholtder:"请输入设备密码",type:"password",password:""},model:{value:e.formDevice.password,callback:function(t){e.$set(e.formDevice,"password",t)},expression:"formDevice.password"}})],1),a("FormItem",{attrs:{label:"设备名称",prop:"name"}},[a("Input",{attrs:{placeholtder:"请输入设备名称"},model:{value:e.formDevice.name,callback:function(t){e.$set(e.formDevice,"name",t)},expression:"formDevice.name"}})],1),a("FormItem",{attrs:{label:"所在公司",prop:"their"}},[a("Input",{attrs:{placeholtder:"请输入公司名称"},model:{value:e.formDevice.their,callback:function(t){e.$set(e.formDevice,"their",t)},expression:"formDevice.their"}})],1),a("FormItem",{attrs:{label:"所在站点",prop:"areaName"}},[a("Select",{attrs:{placeholtder:"请选择站点"},model:{value:e.formDevice.areaName,callback:function(t){e.$set(e.formDevice,"areaName",t)},expression:"formDevice.areaName"}},e._l([{label:"上海市",value:"上海市"}],(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("template",{slot:"footer"},[a("Button",{attrs:{type:"text"},on:{click:function(t){return e.cancel("userRoles")}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",disabled:e.isSubmit,loading:e.isSubmit},on:{click:function(t){return e.submit("userRoles")}}},[e._v("提交")])],1)],2),a("div",{staticClass:"container"},[a("div",{staticClass:"table-wrapper"},[a("Card",{ref:"search",staticClass:"search-wrapper"},[a("div",{staticClass:"tool-view"},[a("p",[e._v("工具栏")]),a("div",{staticClass:"list-btn"},[a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"success"},on:{click:function(t){return e.switchDialog("create")}}},[a("i",{staticClass:"fas fa-plus-circle"}),e._v(" 添加设备 ")])],1)]),a("Search",{staticClass:"search-view",attrs:{config:e.searchConfig},on:{onSearchData:e.onSearchData}})],1),a("Table",{staticClass:"table-view table-scroll table-page",attrs:{border:"",columns:e.columnConfig,data:e.tableData,loading:e.isTableList},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row;return[a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.switchDialog("update",r)}}},[e._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){return e.deleteRow(r.id)}}},[e._v("删除")])]}},{key:"status",fn:function(t){var r=t.row;return[a("Tag",{attrs:{color:r.status?"success":"error"}},[e._v(e._s(r.status?"在线":"离线"))])]}},{key:"loading",fn:function(){return[a("Spin",{staticClass:"spin-wrapper",attrs:{fix:""}},[a("Icon",{staticClass:"start-loading",attrs:{type:"ios-loading",size:"30"}}),a("span",[e._v("Loading")])],1)]},proxy:!0}])},[a("template",{slot:"footer"},[e.tableData.length?a("Paging",{attrs:{total:e.total},on:{onPage:e.bindPage,onLimit:e.bindLimit}}):a("Empty",{attrs:{text:"还未添加或者导入设备信息"}})],1)],2)],1)])],1)},n=[],i=(a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("96cf"),a("1da1")),s=a("ade3"),c=a("d4ec"),o=a("bee2"),l=a("99de"),u=a("7e84"),f=a("262e"),h=a("9ab4"),p=a("60a3"),b=a("5c0a");function d(e,t){return Object(b["a"])({url:"/device",method:t,params:e})}function v(e,t,a){return Object(b["a"])({url:"/device/".concat(e),method:a,params:t})}var m=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.isTableList=!1,e.total=0,e.currentPage=1,e.limit=10,e}return Object(f["a"])(t,e),t}(p["e"]);m=h["a"]([p["a"]],m);var g=a("6908"),y=a("02bc"),k=a("c106"),w=a("bbe0"),D=a("02a9");function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.columnConfig=[{title:"ID",key:"id",width:60,align:"center"},{title:"设备名称",key:"name"},{title:"设备编码",key:"code"},{title:"所在公司",key:"their"},{title:"设备状态",key:"status",slot:"status",align:"center",width:100},{title:"所在站点",key:"areaName"},{title:"操作",key:"action",slot:"action",align:"center",width:200}],e.searchConfig=[{key:"status",info:"请选择设备状态",label:"设备状态",isSelect:!0,options:[{label:"在线",value:"1"},{label:"离线",value:"0"}]},{key:"areaName",info:"请选择站点",label:"所在公司"},{key:"their",info:"请输入公司名称",label:"所在站点"},{key:"name",info:"请输入设备名称",label:"设备名称"}],e.tableData=[],e.isSubmit=!1,e.openDialog=!1,e.rules={password:[{required:!0,message:"请输入设备密码",trigger:"blur"}],name:[{required:!0,message:"请输入设备名称",trigger:"blur"}],their:[{required:!0,message:"请输入设备所在公司",trigger:"blur"}],areaName:[{required:!0,message:"请选择所在站点",trigger:"change"}]},e.formDevice={},e.isCreate=!0,e}return Object(f["a"])(t,e),Object(o["a"])(t,[{key:"bindPage",value:function(e){console.log(e),this.currentPage=e,this.getTableList()}},{key:"bindLimit",value:function(e){console.log(e),this.limit=e,this.getTableList()}},{key:"switchDialog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"create":this.isCreate=!0,this.formDevice={};break;case"update":this.isCreate=!1,this.formDevice=j({},t);break;default:throw new Error("没有找到工厂项")}this.openDialog=!0}},{key:"deleteRow",value:function(e){var t=this;this.$Modal.confirm({title:"警告",content:"是否删除该条角色信息?删除后将无法恢复该条数据。",onOk:function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v(e,null,"delete");case 3:r=a.sent,n=r.data,t.$Message[n.success?"success":"error"](n.message),t.getTableList(),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](0),console.error(a.t0),t.$Message.error(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));function r(){return a.apply(this,arguments)}return r}()})}},{key:"onSearchData",value:function(e){console.log(e),this.getTableList(j({},e))}},{key:"getTableList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},a=Object.assign(t,{limit:this.limit}),e.prev=2,this.isTableList=!0,e.next=6,d(a,"get");case 6:r=e.sent,n=r.data,this.tableData=n.list,this.total=n.total,this.isTableList=!1,console.log(n),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](2),console.error(e.t0),this.isTableList=!1;case 18:case"end":return e.stop()}}),e,this,[[2,14]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(e){var t=this.$refs[e];this.openDialog=!1,this.formDevice={},t.resetFields()}},{key:"submit",value:function(e){var t=this,a=this.$refs[e];a.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=24;break}if(t.isSubmit=!0,e.prev=2,!t.isCreate){e.next=9;break}return e.next=6,d(t.formDevice,"post");case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,v(t.formDevice.id,t.formDevice,"put");case 11:e.t0=e.sent;case 12:r=e.t0,n=r.data,t.$Message[n.success?"success":"error"](n.message),t.isSubmit=!1,t.openDialog=!1,e.next=24;break;case 19:e.prev=19,e.t1=e["catch"](2),console.error(e.t1),t.isSubmit=!1,t.$Message.error(e.t1);case 24:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}())}},{key:"created",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getTableList();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),t}(Object(p["c"])(m));x=h["a"]([Object(p["a"])({components:{Toolbar:g["a"],Empty:y["a"],Search:k["a"],Paging:w["a"],FullTable:D["a"]}})],x);var S=x,T=S,I=(a("10b7"),a("45e8"),a("2877")),_=Object(I["a"])(T,r,n,!1,null,"a6f28116",null);t["default"]=_.exports},"81d5":function(e,t,a){"use strict";var r=a("7b0b"),n=a("23cb"),i=a("50c4");e.exports=function(e){var t=r(this),a=i(t.length),s=arguments.length,c=n(s>1?arguments[1]:void 0,a),o=s>2?arguments[2]:void 0,l=void 0===o?a:n(o,a);while(l>c)t[c++]=e;return t}},"9f8a":function(e,t,a){"use strict";var r=a("0b7c"),n=a.n(r);n.a},a9e3:function(e,t,a){"use strict";var r=a("83ab"),n=a("da84"),i=a("94ca"),s=a("6eeb"),c=a("5135"),o=a("c6b6"),l=a("7156"),u=a("c04e"),f=a("d039"),h=a("7c73"),p=a("241c").f,b=a("06cf").f,d=a("9bf2").f,v=a("58a8").trim,m="Number",g=n[m],y=g.prototype,k=o(h(y))==m,w=function(e){var t,a,r,n,i,s,c,o,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=v(l),t=l.charCodeAt(0),43===t||45===t){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+l}for(i=l.slice(2),s=i.length,c=0;c<s;c++)if(o=i.charCodeAt(c),o<48||o>n)return NaN;return parseInt(i,r)}return+l};if(i(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var D,O=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof O&&(k?f((function(){y.valueOf.call(a)})):o(a)!=m)?l(new g(w(t)),a,O):w(t)},j=r?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;j.length>x;x++)c(g,D=j[x])&&!c(O,D)&&d(O,D,b(g,D));O.prototype=y,y.constructor=O,s(n,m,O)}},ada0:function(e,t,a){},bbe0:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pageing-container"},[a("Page",{attrs:{total:e.total,"show-elevator":"",current:e.currentPage,"page-size":e.limit,"show-sizer":"","show-total":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handleLimit}})],1)},n=[],i=a("d4ec"),s=a("bee2"),c=a("99de"),o=a("7e84"),l=a("262e"),u=a("9ab4"),f=a("60a3"),h=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.limit=10,e.currentPage=1,e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"handlePage",value:function(e){return e}},{key:"handleLimit",value:function(e){return e}}]),t}(f["e"]);u["a"]([Object(f["d"])({required:!0})],h.prototype,"total",void 0),u["a"]([Object(f["b"])("onPage")],h.prototype,"handlePage",null),u["a"]([Object(f["b"])("onLimit")],h.prototype,"handleLimit",null),h=u["a"]([f["a"]],h);var p=h,b=p,d=(a("9f8a"),a("2877")),v=Object(d["a"])(b,r,n,!1,null,"5c4c1a30",null);t["a"]=v.exports},c106:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{attrs:{value:e.searchData,"label-colon":!0}},[e._l(e.config,(function(t,r){return a("FormItem",{key:r,attrs:{label:t.label}},[t.isSelect?a("Select",{attrs:{placeholder:t.info},model:{value:e.searchData[t.key],callback:function(a){e.$set(e.searchData,t.key,a)},expression:"searchData[item.key]"}},e._l(t.options,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1):t.isDateTime?a("DatePicker",{attrs:{type:"datetime",placeholder:t.info},model:{value:e.searchData[t.key],callback:function(a){e.$set(e.searchData,t.key,a)},expression:"searchData[item.key]"}}):t.isUnite?a("Cascader",{attrs:{data:t.options,placeholder:t.info},model:{value:e.searchData[t.key],callback:function(a){e.$set(e.searchData,t.key,a)},expression:"searchData[item.key]"}}):a("Input",{attrs:{placeholder:t.info},model:{value:e.searchData[t.key],callback:function(a){e.$set(e.searchData,t.key,a)},expression:"searchData[item.key]"}})],1)})),a("FormItem",[a("Button",{attrs:{type:"primary",loading:e.isSearch,disabled:e.isSearch},on:{click:function(t){return t.stopPropagation(),e.handleSearch(e.searchData)}}},[e._v("立即搜索")]),a("Button",{staticStyle:{"margin-left":"10px"},on:{click:function(t){return t.stopPropagation(),e.handleReset(t)}}},[e._v("重置")])],1)],2)},n=[],i=a("d4ec"),s=a("bee2"),c=a("99de"),o=a("7e84"),l=a("262e"),u=a("9ab4"),f=a("60a3"),h=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.searchData={},e.isSearch=!1,e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"handleSearch",value:function(e){var t=this;return this.isSearch=!0,setTimeout((function(){t.isSearch=!1}),1e3),this.searchData}},{key:"handleReset",value:function(){this.searchData={}}}]),t}(f["e"]);u["a"]([Object(f["d"])({required:!0})],h.prototype,"config",void 0),u["a"]([Object(f["b"])("onSearchData")],h.prototype,"handleSearch",null),h=u["a"]([f["a"]],h);var p=h,b=p,d=(a("6d7e"),a("2877")),v=Object(d["a"])(b,r,n,!1,null,"0cf26beb",null);t["a"]=v.exports},cb29:function(e,t,a){var r=a("23e7"),n=a("81d5"),i=a("44d2");r({target:"Array",proto:!0},{fill:n}),i("fill")}}]);
//# sourceMappingURL=chunk-38c098e0.e2d18f2a.js.map